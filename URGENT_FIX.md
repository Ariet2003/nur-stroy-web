# üö® –°–†–û–ß–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï - Prisma –Ω–∞ Vercel

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ –°–ï–ô–ß–ê–°:

### 1. –î–æ–±–∞–≤–ª–µ–Ω `vercel.json` —Å —è–≤–Ω—ã–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏:
```json
{
  "buildCommand": "prisma generate && prisma migrate deploy && next build",
  "installCommand": "npm install && prisma generate"
}
```

### 2. –û–±–Ω–æ–≤–ª–µ–Ω `prisma/schema.prisma`:
```prisma
generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "rhel-openssl-3.0.x"]
  output        = "../node_modules/.prisma/client"
  engineType    = "library"
}
```

### 3. –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–ø—É—à–µ–Ω—ã –Ω–∞ GitHub

## üî• –ß–¢–û –ù–£–ñ–ù–û –°–î–ï–õ–ê–¢–¨ –ü–†–Ø–ú–û –°–ï–ô–ß–ê–°:

### –®–∞–≥ 1: –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π Redeploy –ë–ï–ó –∫—ç—à–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://vercel.com/dashboard
2. –ù–∞–π–¥–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç `nur-stroy-web`
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Deployments**
4. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ **–ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π**
5. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"..." (—Ç—Ä–∏ —Ç–æ—á–∫–∏)** —Å–ø—Ä–∞–≤–∞ –≤–≤–µ—Ä—Ö—É
6. –í—ã–±–µ—Ä–∏—Ç–µ **"Redeploy"**
7. **–í–ê–ñ–ù–û:** –°–Ω–∏–º–∏—Ç–µ –≥–∞–ª–æ—á–∫—É **"Use existing Build Cache"**
8. –ù–∞–∂–º–∏—Ç–µ **"Redeploy"**

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Build Logs

–ü–æ—Å–ª–µ –Ω–∞—á–∞–ª–∞ –¥–µ–ø–ª–æ—è:

1. –û—Ç–∫—Ä–æ–π—Ç–µ **Build Logs**
2. –ù–∞–π–¥–∏—Ç–µ —Å–µ–∫—Ü–∏—é **"Running build command"**
3. –î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
   ```
   prisma generate
   Environment variables loaded from .env
   Prisma schema loaded from prisma/schema.prisma
   ‚úî Generated Prisma Client (v6.17.1)
   ```
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—è–≤–∏–ª–∞—Å—å —Å—Ç—Ä–æ–∫–∞ –ø—Ä–æ **rhel-openssl-3.0.x**

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í Settings ‚Üí Environment Variables —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:

```
DATABASE_URL=postgresql://...
IMGBB_API_KEY=...
JWT_SECRET=...
ADMIN_USERNAME=admin
ADMIN_PASSWORD=...
```

**–ï—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ - –Ω—É–∂–µ–Ω –µ—â–µ –æ–¥–∏–Ω redeploy!**

## üéØ –ü–æ—á–µ–º—É —ç—Ç–æ –¥–æ–ª–∂–Ω–æ —Å—Ä–∞–±–æ—Ç–∞—Ç—å:

1. **`vercel.json`** - —è–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç Vercel, –∫–∞–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å
2. **`output` –≤ schema.prisma** - —è–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç –ø—É—Ç—å –¥–ª—è Prisma Client
3. **`engineType: "library"`** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ—á–Ω—ã–π –¥–≤–∏–∂–æ–∫ –≤–º–µ—Å—Ç–æ –±–∏–Ω–∞—Ä–Ω–æ–≥–æ
4. **Redeploy –±–µ–∑ –∫—ç—à–∞** - –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —á–∏—Å—Ç—É—é —Å–±–æ—Ä–∫—É

## üîç –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –≤—Å–µ –µ—â–µ –µ—Å—Ç—å:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DATABASE_URL

–§–æ—Ä–º–∞—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å:
```
postgresql://USER:PASSWORD@HOST:5432/DATABASE?schema=public
```

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
```
postgresql://USER:PASSWORD@HOST:5432/DATABASE?schema=public&connection_limit=1&pool_timeout=0
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Vercel Postgres

–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –¥—Ä—É–≥—É—é –ë–î, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ:

1. –í Vercel Dashboard ‚Üí Storage
2. Create Database ‚Üí Postgres
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `POSTGRES_PRISMA_URL`
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ –∫–∞–∫ `DATABASE_URL`

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏–∏

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `package.json`:
```json
{
  "dependencies": {
    "@prisma/client": "^6.17.1",
    "prisma": "^6.17.1"
  }
}
```

–û–±–µ –≤–µ—Ä—Å–∏–∏ –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å!

### –í–∞—Ä–∏–∞–Ω—Ç 4: –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ - Downgrade Prisma

–ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–∫–∞—Ç–∏—Ç—å—Å—è –Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é:

```bash
npm install @prisma/client@5.19.1 prisma@5.19.1
npx prisma generate
git add package.json package-lock.json
git commit -m "Downgrade Prisma to stable version"
git push
```

## üìä –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

–ü–æ—Å–ª–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è –≤ –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:

```
‚úì prisma generate
‚úì Generated Prisma Client (v6.17.1)
‚úì Binary targets: native, rhel-openssl-3.0.x
‚úì Compiled successfully
‚úì Build completed
```

–ò –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ:
```
‚úÖ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω—ã –Ω–∞ ImgBB
‚úÖ –ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ –ë–î
‚úÖ –†–∞–±–æ—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ
```

## üÜò –ü–æ—Å–ª–µ–¥–Ω—è—è –Ω–∞–¥–µ–∂–¥–∞:

–ï—Å–ª–∏ –ù–ò–ß–ï–ì–û –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –Ω–∞ Vercel:

1. –£–¥–∞–ª–∏—Ç–µ —Ç–µ–∫—É—â–∏–π –ø—Ä–æ–µ–∫—Ç –Ω–∞ Vercel
2. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∑–∞–Ω–æ–≤–æ
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
4. –î–µ–ø–ª–æ–π –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏ —Å —á–∏—Å—Ç–æ–≥–æ –ª–∏—Å—Ç–∞

---

**–£–¥–∞—á–∏! –ü–æ—Å–ª–µ redeploy –±–µ–∑ –∫—ç—à–∞ –¥–æ–ª–∂–Ω–æ –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å! üöÄ**

